function OsmPicker(l){var a=null,i=null,o=null,t=null;function r(){return""!==a.value?L.latLng.apply(this,a.value.split(",")):null}function u(e){null!==t&&o.removeLayer(t),t=L.marker(e).addTo(o)}this.getMap=function(){return o},this.setInputFromLatLng=function(e){a.value=Array.isArray(e)?e.join(","):e.lat+","+e.lng,o.setView(e),u(e)},function(){var e,t;(l=l||{}).defaultView=l.defaultView||{},l.defaultView.latLng=l.defaultView.latLng||L.latLng(47.4953,19.0645),l.defaultView.zoom=l.defaultView.zoom||14,a=l.inputElement||document.getElementById(l.selector),o=l.mapElement?(i=l.mapElement,L.map(i)):((i=document.createElement("div")).id=l.selector+"-osm-picker",i.style="height:300px;cursor:crosshair;",e=i,(t=a).parentNode.insertBefore(e,t.nextSibling),L.map(l.selector+"-osm-picker")),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o);var n=r();o.setView(n||l.defaultView.latLng,l.defaultView.zoom),n&&u(n),o.on("click",function(e){a.value=e.latlng.lat+","+e.latlng.lng,u(e.latlng)}),a.addEventListener("change",function(){u(r())})}()}
